<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Habit Tracker Pro</title>
    <style>:root{--bg-primary:#f8f9fa;--bg-secondary:#fff;--bg-tertiary:#f1f3f5;--text-primary:#212529;--text-secondary:#6c757d;--text-tertiary:#adb5bd;--border-color:#dee2e6;--shadow:rgba(0,0,0,.1);--shadow-hover:rgba(0,0,0,.15);--accent-primary:#6366f1;--accent-hover:#4f46e5;--accent-light:#e0e7ff;--success:#10b981;--success-light:#d1fae5;--danger:#ef4444;--danger-light:#fee2e2;--warning:#f59e0b;--spacing-xs:.25rem;--spacing-sm:.5rem;--spacing-md:1rem;--spacing-lg:1.5rem;--spacing-xl:2rem;--spacing-2xl:3rem;--radius-sm:.375rem;--radius-md:.5rem;--radius-lg:.75rem;--radius-xl:1rem;--radius-full:9999px;--transition-fast:150ms ease;--transition-base:250ms ease;--transition-slow:350ms ease}[data-theme=dark]{--bg-primary:#0f172a;--bg-secondary:#1e293b;--bg-tertiary:#334155;--text-primary:#f1f5f9;--text-secondary:#cbd5e1;--text-tertiary:#64748b;--border-color:#334155;--shadow:rgba(0,0,0,.3);--shadow-hover:rgba(0,0,0,.4);--accent-light:#312e81;--success-light:#064e3b;--danger-light:#7f1d1d}*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;background:var(--bg-primary);color:var(--text-primary);line-height:1.6;transition:background-color var(--transition-base),color var(--transition-base);min-height:100vh}.container{max-width:800px;margin:0 auto;padding:var(--spacing-lg)}.header{margin-bottom:var(--spacing-2xl)}.header-content{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-lg) 0}.logo{font-size:1.75rem;font-weight:700;color:var(--text-primary);display:flex;align-items:center;gap:var(--spacing-sm)}.theme-toggle{background:var(--bg-secondary);border:2px solid var(--border-color);border-radius:var(--radius-full);width:48px;height:48px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all var(--transition-base);font-size:1.25rem}.theme-toggle:hover{transform:scale(1.1);border-color:var(--accent-primary)}.stats-dashboard{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:var(--spacing-md);margin-bottom:var(--spacing-xl)}.stat-card{background:var(--bg-secondary);border:2px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-lg);text-align:center;transition:all var(--transition-base)}.stat-card:hover{transform:translateY(-2px);box-shadow:0 8px 16px var(--shadow)}.stat-value{font-size:2rem;font-weight:700;color:var(--accent-primary);margin-bottom:var(--spacing-xs)}.stat-label{font-size:.875rem;color:var(--text-secondary);font-weight:500}.add-habit-section{margin-bottom:var(--spacing-xl)}.input-group{display:flex;gap:var(--spacing-md)}.input-group input{flex:1;padding:var(--spacing-md) var(--spacing-lg);border:2px solid var(--border-color);border-radius:var(--radius-lg);background:var(--bg-secondary);color:var(--text-primary);font-size:1rem;transition:all var(--transition-base)}.input-group input:focus{outline:0;border-color:var(--accent-primary);box-shadow:0 0 0 3px var(--accent-light)}.btn-primary{background:var(--accent-primary);color:#fff;border:none;border-radius:var(--radius-lg);padding:var(--spacing-md) var(--spacing-xl);font-size:1rem;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:var(--spacing-sm);transition:all var(--transition-base);white-space:nowrap}.btn-primary:hover{background:var(--accent-hover);transform:translateY(-2px);box-shadow:0 4px 12px var(--shadow)}.btn-primary:active{transform:translateY(0)}.btn-icon{font-size:1.25rem;line-height:1}.habits-section{background:var(--bg-secondary);border:2px solid var(--border-color);border-radius:var(--radius-xl);padding:var(--spacing-xl)}.section-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-lg);flex-wrap:wrap;gap:var(--spacing-md)}.section-header h2{font-size:1.5rem;color:var(--text-primary)}.view-toggle{display:flex;gap:var(--spacing-xs);background:var(--bg-tertiary);padding:var(--spacing-xs);border-radius:var(--radius-md)}.view-btn{background:0 0;border:none;padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--radius-sm);color:var(--text-secondary);font-size:.875rem;font-weight:500;cursor:pointer;transition:all var(--transition-fast)}.view-btn:hover{color:var(--text-primary)}.view-btn.active{background:var(--accent-primary);color:#fff}.habits-list{display:flex;flex-direction:column;gap:var(--spacing-md)}.habit-item{background:var(--bg-primary);border:2px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-lg);display:flex;align-items:center;gap:var(--spacing-lg);transition:all var(--transition-base);animation:slideIn .3s ease}@keyframes slideIn{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.habit-item:hover{border-color:var(--accent-primary);box-shadow:0 4px 12px var(--shadow)}.habit-item.completed{opacity:.7}.habit-checkbox{position:relative;width:48px;height:48px;flex-shrink:0;cursor:pointer}.checkbox-circle{width:100%;height:100%;border-radius:50%;border:3px solid var(--border-color);background:var(--bg-secondary);display:flex;align-items:center;justify-content:center;transition:all var(--transition-base);position:relative;overflow:hidden}.habit-checkbox:hover .checkbox-circle{border-color:var(--accent-primary);transform:scale(1.1)}.checkbox-fill{position:absolute;bottom:0;left:0;right:0;background:var(--success);height:0;transition:height .4s cubic-bezier(.4,0,.2,1);border-radius:50%}.habit-checkbox.checked .checkbox-fill{height:100%}.habit-checkbox.checked .checkbox-circle{border-color:var(--success)}.checkmark{position:relative;z-index:1;font-size:1.5rem;color:#fff;opacity:0;transform:scale(0);transition:all var(--transition-base)}.habit-checkbox.checked .checkmark{opacity:1;transform:scale(1)}.habit-content{flex:1;min-width:0}.habit-name{font-size:1.125rem;font-weight:600;color:var(--text-primary);margin-bottom:var(--spacing-xs);word-wrap:break-word}.habit-item.completed .habit-name{text-decoration:line-through;color:var(--text-secondary)}.habit-meta{display:flex;align-items:center;gap:var(--spacing-md);flex-wrap:wrap}.habit-streak{display:flex;align-items:center;gap:var(--spacing-xs);font-size:.875rem;color:var(--text-secondary);font-weight:500}.streak-icon{font-size:1rem}.habit-streak.active{color:var(--warning)}.habit-date{font-size:.75rem;color:var(--text-tertiary)}.habit-actions{display:flex;gap:var(--spacing-sm)}.action-btn{background:0 0;border:2px solid var(--border-color);border-radius:var(--radius-md);width:36px;height:36px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all var(--transition-base);font-size:1rem}.action-btn:hover{transform:scale(1.1)}.action-btn.edit:hover{border-color:var(--accent-primary);background:var(--accent-light)}.action-btn.delete:hover{border-color:var(--danger);background:var(--danger-light)}.empty-state{text-align:center;padding:var(--spacing-2xl) var(--spacing-lg);display:none}.empty-state.show{display:block}.empty-icon{font-size:4rem;margin-bottom:var(--spacing-md);opacity:.5}.empty-state h3{font-size:1.25rem;color:var(--text-primary);margin-bottom:var(--spacing-sm)}.empty-state p{color:var(--text-secondary)}.modal{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);backdrop-filter:blur(4px);z-index:1000;align-items:center;justify-content:center;padding:var(--spacing-lg);animation:fadeIn .2s ease}.modal.show{display:flex}@keyframes fadeIn{from{opacity:0}to{opacity:1}}.modal-content{background:var(--bg-secondary);border-radius:var(--radius-xl);width:100%;max-width:500px;box-shadow:0 20px 60px var(--shadow);animation:slideUp .3s ease}@keyframes slideUp{from{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-lg) var(--spacing-xl);border-bottom:2px solid var(--border-color)}.modal-header h3{font-size:1.25rem;color:var(--text-primary)}.modal-close{background:0 0;border:none;font-size:2rem;color:var(--text-secondary);cursor:pointer;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-md);transition:all var(--transition-fast)}.modal-close:hover{background:var(--bg-tertiary);color:var(--text-primary)}.modal-body{padding:var(--spacing-xl)}.modal-body input{width:100%;padding:var(--spacing-md) var(--spacing-lg);border:2px solid var(--border-color);border-radius:var(--radius-lg);background:var(--bg-primary);color:var(--text-primary);font-size:1rem;transition:all var(--transition-base)}.modal-body input:focus{outline:0;border-color:var(--accent-primary);box-shadow:0 0 0 3px var(--accent-light)}.modal-footer{display:flex;gap:var(--spacing-md);padding:var(--spacing-lg) var(--spacing-xl);border-top:2px solid var(--border-color)}.btn-secondary{flex:1;background:var(--bg-tertiary);color:var(--text-primary);border:2px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-md) var(--spacing-lg);font-size:1rem;font-weight:600;cursor:pointer;transition:all var(--transition-base)}.btn-secondary:hover{background:var(--border-color)}.modal-footer .btn-primary{flex:1}@media (max-width:640px){.container{padding:var(--spacing-md)}.logo{font-size:1.5rem}.stats-dashboard{grid-template-columns:1fr}.input-group{flex-direction:column}.btn-primary{width:100%;justify-content:center}.section-header{flex-direction:column;align-items:flex-start}.habit-item{flex-wrap:wrap}.habit-actions{width:100%;justify-content:flex-end}}@media (prefers-reduced-motion:reduce){*{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}</style>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-content">
                <h1 class="logo">üéØ Habit Tracker</h1>
                <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
                    <span class="theme-icon">üåô</span>
                </button>
            </div>
        </header>
        <section class="stats-dashboard">
            <div class="stat-card"><div class="stat-value" id="totalHabits">0</div><div class="stat-label">Total Habits</div></div>
            <div class="stat-card"><div class="stat-value" id="completedToday">0</div><div class="stat-label">Completed Today</div></div>
            <div class="stat-card"><div class="stat-value" id="longestStreak">0</div><div class="stat-label">Longest Streak</div></div>
        </section>
        <section class="add-habit-section">
            <div class="input-group">
                <input type="text" id="habitInput" placeholder="Enter a new habit..." maxlength="50">
                <button class="btn-primary" id="addHabitBtn"><span class="btn-icon">+</span>Add Habit</button>
            </div>
        </section>
        <section class="habits-section">
            <div class="section-header">
                <h2>My Habits</h2>
                <div class="view-toggle">
                    <button class="view-btn active" data-view="all">All</button>
                    <button class="view-btn" data-view="active">Active</button>
                    <button class="view-btn" data-view="completed">Completed</button>
                </div>
            </div>
            <div id="habitsList" class="habits-list"></div>
            <div id="emptyState" class="empty-state"><div class="empty-icon">üìù</div><h3>No habits yet</h3><p>Start building better habits today!</p></div>
        </section>
    </div>
    <div id="editModal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h3>Edit Habit</h3><button class="modal-close" id="closeModal">&times;</button></div>
            <div class="modal-body"><input type="text" id="editHabitInput" placeholder="Habit name" maxlength="50"></div>
            <div class="modal-footer"><button class="btn-secondary" id="cancelEdit">Cancel</button><button class="btn-primary" id="saveEdit">Save Changes</button></div>
        </div>
    </div>
    <script>class HabitTracker{constructor(){this.habits=[];this.currentView='all';this.editingHabitId=null;this.init()}init(){this.loadFromLocalStorage();this.setupEventListeners();this.loadTheme();this.render()}loadFromLocalStorage(){const stored=localStorage.getItem('habitTrackerData');if(stored){try{this.habits=JSON.parse(stored);this.cleanupOldData()}catch(e){console.error('Error loading data:',e);this.habits=[]}}}saveToLocalStorage(){try{localStorage.setItem('habitTrackerData',JSON.stringify(this.habits))}catch(e){console.error('Error saving data:',e);alert('Failed to save data. Storage might be full.')}}cleanupOldData(){const thirtyDaysAgo=new Date();thirtyDaysAgo.setDate(thirtyDaysAgo.getDate()-30);this.habits.forEach(habit=>{if(habit.completions){habit.completions=habit.completions.filter(date=>new Date(date)>=thirtyDaysAgo)}})}loadTheme(){const theme=localStorage.getItem('theme')||'light';document.documentElement.setAttribute('data-theme',theme);this.updateThemeIcon(theme)}toggleTheme(){const current=document.documentElement.getAttribute('data-theme');const newTheme=current==='dark'?'light':'dark';document.documentElement.setAttribute('data-theme',newTheme);localStorage.setItem('theme',newTheme);this.updateThemeIcon(newTheme)}updateThemeIcon(theme){const icon=document.querySelector('.theme-icon');icon.textContent=theme==='dark'?'‚òÄÔ∏è':'üåô'}addHabit(name){if(!name||name.trim()===''){alert('Please enter a habit name');return}const habit={id:Date.now().toString(),name:name.trim(),createdAt:new Date().toISOString(),completions:[],streak:0};this.habits.unshift(habit);this.saveToLocalStorage();this.render();document.getElementById('habitInput').value=''}deleteHabit(id){if(confirm('Are you sure you want to delete this habit?')){this.habits=this.habits.filter(h=>h.id!==id);this.saveToLocalStorage();this.render()}}editHabit(id){const habit=this.habits.find(h=>h.id===id);if(!habit)return;this.editingHabitId=id;document.getElementById('editHabitInput').value=habit.name;document.getElementById('editModal').classList.add('show');document.getElementById('editHabitInput').focus()}saveEdit(){const newName=document.getElementById('editHabitInput').value.trim();if(!newName){alert('Please enter a habit name');return}const habit=this.habits.find(h=>h.id===this.editingHabitId);if(habit){habit.name=newName;this.saveToLocalStorage();this.render()}this.closeModal()}closeModal(){document.getElementById('editModal').classList.remove('show');this.editingHabitId=null}toggleHabit(id){const habit=this.habits.find(h=>h.id===id);if(!habit)return;const today=this.getTodayString();const completionIndex=habit.completions.indexOf(today);if(completionIndex>-1){habit.completions.splice(completionIndex,1)}else{habit.completions.push(today);habit.completions.sort()}habit.streak=this.calculateStreak(habit.completions);this.saveToLocalStorage();this.render()}calculateStreak(completions){if(!completions||completions.length===0)return 0;const sortedDates=completions.map(d=>new Date(d)).sort((a,b)=>b-a);const today=new Date();today.setHours(0,0,0,0);let streak=0;let currentDate=new Date(today);for(let i=0;i<sortedDates.length;i++){const completionDate=new Date(sortedDates[i]);completionDate.setHours(0,0,0,0);if(completionDate.getTime()===currentDate.getTime()){streak++;currentDate.setDate(currentDate.getDate()-1)}else if(completionDate.getTime()<currentDate.getTime()){break}}return streak}isCompletedToday(habit){const today=this.getTodayString();return habit.completions.includes(today)}getTodayString(){return new Date().toISOString().split('T')[0]}getStats(){const totalHabits=this.habits.length;const completedToday=this.habits.filter(h=>this.isCompletedToday(h)).length;const longestStreak=this.habits.reduce((max,h)=>Math.max(max,h.streak||0),0);return{totalHabits,completedToday,longestStreak}}setView(view){this.currentView=view;this.render()}getFilteredHabits(){switch(this.currentView){case'active':return this.habits.filter(h=>!this.isCompletedToday(h));case'completed':return this.habits.filter(h=>this.isCompletedToday(h));default:return this.habits}}render(){this.renderStats();this.renderHabits();this.updateViewButtons()}renderStats(){const stats=this.getStats();document.getElementById('totalHabits').textContent=stats.totalHabits;document.getElementById('completedToday').textContent=stats.completedToday;document.getElementById('longestStreak').textContent=stats.longestStreak}renderHabits(){const habitsList=document.getElementById('habitsList');const emptyState=document.getElementById('emptyState');const filteredHabits=this.getFilteredHabits();if(filteredHabits.length===0){habitsList.innerHTML='';emptyState.classList.add('show');return}emptyState.classList.remove('show');habitsList.innerHTML=filteredHabits.map(habit=>this.createHabitHTML(habit)).join('')}createHabitHTML(habit){const isCompleted=this.isCompletedToday(habit);const streak=habit.streak||0;const createdDate=new Date(habit.createdAt).toLocaleDateString();return`<div class="habit-item ${isCompleted?'completed':''}"><div class="habit-checkbox ${isCompleted?'checked':''}" onclick="app.toggleHabit('${habit.id}')"><div class="checkbox-circle"><div class="checkbox-fill"></div><span class="checkmark">‚úì</span></div></div><div class="habit-content"><div class="habit-name">${this.escapeHtml(habit.name)}</div><div class="habit-meta"><div class="habit-streak ${streak>0?'active':''}"><span class="streak-icon">üî•</span><span>${streak} day${streak!==1?'s':''} streak</span></div><div class="habit-date">Created ${createdDate}</div></div></div><div class="habit-actions"><button class="action-btn edit" onclick="app.editHabit('${habit.id}')">‚úèÔ∏è</button><button class="action-btn delete" onclick="app.deleteHabit('${habit.id}')">üóëÔ∏è</button></div></div>`}updateViewButtons(){document.querySelectorAll('.view-btn').forEach(btn=>{const view=btn.getAttribute('data-view');if(view===this.currentView){btn.classList.add('active')}else{btn.classList.remove('active')}})}escapeHtml(text){const div=document.createElement('div');div.textContent=text;return div.innerHTML}setupEventListeners(){document.getElementById('addHabitBtn').addEventListener('click',()=>{const input=document.getElementById('habitInput');this.addHabit(input.value)});document.getElementById('habitInput').addEventListener('keypress',(e)=>{if(e.key==='Enter'){this.addHabit(e.target.value)}});document.getElementById('themeToggle').addEventListener('click',()=>{this.toggleTheme()});document.querySelectorAll('.view-btn').forEach(btn=>{btn.addEventListener('click',(e)=>{const view=e.target.getAttribute('data-view');this.setView(view)})});document.getElementById('closeModal').addEventListener('click',()=>{this.closeModal()});document.getElementById('cancelEdit').addEventListener('click',()=>{this.closeModal()});document.getElementById('saveEdit').addEventListener('click',()=>{this.saveEdit()});document.getElementById('editHabitInput').addEventListener('keypress',(e)=>{if(e.key==='Enter'){this.saveEdit()}});document.getElementById('editModal').addEventListener('click',(e)=>{if(e.target.id==='editModal'){this.closeModal()}});document.addEventListener('keydown',(e)=>{if(e.key==='Escape'){this.closeModal()}})}}let app;document.addEventListener('DOMContentLoaded',()=>{app=new HabitTracker();console.log('üéØ Habit Tracker Pro initialized!')});window.app=app;</script>
</body>
</html>